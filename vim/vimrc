" vim
set nocompatible

" vim-plug
call plug#begin()
Plug 'altercation/vim-colors-solarized'
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'
Plug 'tpope/vim-fugitive'
Plug 'ctrlpvim/ctrlp.vim'
Plug 'othree/yajs.vim', { 'for': 'javascript' }
call plug#end()

" general config
set number
set relativenumber
set history=100
set showmode
set visualbell
set autoread
set hidden
set autoindent
set copyindent
set smarttab
set noet
set softtabstop=4
set shiftwidth=4
set showmatch
set backspace=indent,eol,start
set scrolloff=2
set laststatus=2
set cursorline
set incsearch
set hlsearch
set showcmd
set ignorecase
set smartcase
set splitbelow
set splitright
set wildmode=longest,list,full
set wildmenu

" mapping
let mapleader=","
map <leader>h :help 
map <leader>s :source $MYVIMRC<CR>
map <leader>rc :tabnew $MYVIMRC<CR>
map <leader>bo :browse old<CR>
map <leader>pi :PlugInstall<CR>
map <leader>pc :PlugClean<CR>
nnoremap <silent> <Esc> :nohlsearch<Bar>:echo<CR>
nnoremap <Up> <nop>
nnoremap <Down> <nop>
nnoremap <Left> <nop>
nnoremap <Right> <nop>

" theme
set t_Co=256
colorscheme solarized
set background=dark
let g:airline_theme='solarized'
let g:airline#extensions#branch#enabled = 1

" CtrlP and Search
let g:ctrlp_max_files = 0
let g:ctrlp_max_depth = 40
let g:ctrlp_prompt_mappings = {
    \ 'AcceptSelection("e")': ['<c-t>'],
    \ 'AcceptSelection("t")': ['<cr>', '<2-LeftMouse>'],
    \ }
if executable('ag')
    set grepprg=ag\ --nogroup\ --nocolor
    let g:ctrlp_user_command = 'ag -Q -l --nocolor --hidden -g "" %s'
    let g:ctrlp_use_caching = 0
endif
